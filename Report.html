<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Starter Template</title>

  <link rel="stylesheet" href="styles/bootstrap.min.css">



</head>

<body>


  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/">Lab 4: Client Prototype</a>

    <div>
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="/">&laquo; Back
            <span class="sr-only">(current)</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container">
    <div class="row mt-5">
      <div class="col">
        <div class="card">
          <div id="overview_head" class="card-header">
            <h3>Overview of Signups</h3>
          </div>
          <div id="overview_body" class="card-body" style="display:none">
            <div class="row">
              <div class="col">
                <div class="alert text-center" id="weekly-change"></div>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-9">
                <div id="weekly-series-chart"></div>
              </div>
              <div class="col-sm-3">
                <div id="sales-overview-chart"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col">
        <div class="card">
          <div id="user-engagement-head" class="card-header">
            <h3>User Engagement</h3>
          </div>
          <div id="user-engagement-body" class="card-body" style="display:none">
            <div id="active-user-chart"></div>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-5">
      <div class="col">
        <div class="card">
          <div id="customer-head" class="card-header">
            <h3>Customer Support</h3>
          </div>
          <div id="customer-body" class="card-body" style="display:none">
            <div id="support-activity"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
  <script src="scripts/vendor/jquery.min.js"></script>

  <script src="scripts/vendor/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/offline-exporting.js"></script>

  <script src="scripts/vendor/underscore-min.js"></script>

  <script src="scripts/03_main.js"></script>

  <script>
    $(document).ready(function () {
      $("#overview_head").click(function () {
        $("#overview_body").slideToggle("slow");
      });

      $("#user-engagement-head").click(function () {
        $("#user-engagement-body").slideToggle("slow");
      });

      $("#customer-head").click(function () {
        $("#customer-body").slideToggle("slow");
      });


      //Display overview of signups -START
      $.get('data/data.json', function (data) {

        console.log(data);

        Highcharts.chart('weekly-series-chart',
          {
            chart: {
              type: 'column'
            },
            title: {
              text: 'Overview of Signups'
            },
            subtitle: {
              text: 'Source: data.json'
            },
            yAxis: {
              title: {
                text: 'Sales'
              }
            },
            xAxis: {
              title: {
                text: 'Days of the week'
              },
              categories: data.weekly_sales.days
            },
            tooltip: {
              headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
              pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                '<td style="padding:0"><b>{point.y:.1f} mm</b></td></tr>',
              footerFormat: '</table>',
              shared: true,
              useHTML: true
            },
            legend: {
              enabled: true
            },

            series: data.weekly_sales.plan_signups,
            credits: {
              enabled: false
            }

          });


      });


      //Display overview of signups - END

    });
  </script>

</body>

</html>